class h extends Error{constructor(a){super("Error in API route"),this.name="ApiError",this.json=a}}const i=t=>{if(t.status!=="success")throw new h(t)},e=async t=>{const a=await fetch(`${t}`);a.headers.get("Location")&&(window.location.href=a.headers.get("Location"));const s=await a.json();return i(s),s},r=async(t,a)=>{const s=await fetch(`${t}`,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});s.headers.get("Location")&&(window.location.href=s.headers.get("Location"));const c=await s.json();return i(c),c},l=async()=>await e("/tickets/ajax"),u=async t=>await r("/tickets/ajax",t),d=async t=>await r("/tickets/ajax",t),y=async t=>await e(`/tickets/ajax?id=${t}`),k=async t=>await e(`/tickets/${t}/messages`);let n;const w=async()=>await e("/translations/ajax/tickets.*?lang=da").then(t=>{n=t==null?void 0:t.translations}),f=async()=>((!n||Object.keys(n).length===0)&&await w(),n);let o=[];const g=async()=>await e("/admin/ajax/users/*").then(t=>o=t.users),j=async()=>(o.length===0&&await g(),o);export{j as a,k as b,u as c,y as d,l as f,f as g,d as u};
