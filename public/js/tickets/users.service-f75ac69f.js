class h extends Error{constructor(s){super("Error in API route"),this.name="ApiError",this.json=s}}const r=t=>{if(t.status!=="success")throw new h(t)},e=async t=>{const s=await fetch(`${t}`);s.headers.get("Location")&&(window.location.href=s.headers.get("Location"));const a=await s.json();return r(a),a},o=async(t,s)=>{const a=await fetch(`${t}`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});a.headers.get("Location")&&(window.location.href=a.headers.get("Location"));const i=await a.json();return r(i),i},d=async()=>await e("/tickets/ajax"),g=async t=>await o("/tickets/ajax",t),k=async t=>await o("/tickets/ajax",t),y=async t=>await e(`/tickets/ajax?id=${t}`),l=async t=>await e(`/tickets/${t}/messages`),f=async t=>await o(`/tickets/${t.ticket}/messages`,t);let n;const w=async()=>await e("/translations/ajax/tickets.*?lang=da").then(t=>{n=t==null?void 0:t.translations}),j=async()=>((!n||Object.keys(n).length===0)&&await w(),n);let c=[];const u=async()=>await e("/admin/ajax/users/*").then(t=>c=t.users),p=async()=>(c.length===0&&await u(),c);export{p as a,y as b,g as c,l as d,f as e,d as f,j as g,k as u};
